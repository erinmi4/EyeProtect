# 20-20-20 护眼提醒器 V2

一个基于 Python 的桌面护眼提醒应用，遵循"20-20-20 护眼法则"：每 20 分钟看向 20 英尺（约 6 米）外的物体 20 秒钟。

## 🌟 功能特点

- ✅ **后台运行**: 启动后直接在系统托盘运行，不显示主窗口
- ⏰ **自动计时**: 每 20 分钟自动提醒休息
- 🔝 **置顶提醒**: 休息时弹出置顶窗口，确保用户看到
- ⏱️ **倒计时显示**: 休息窗口显示 20 秒倒计时和进度条
- 🎛️ **托盘控制**: 右键托盘图标可暂停、立即休息或退出
- 🎨 **美观界面**: 现代化的用户界面设计
- ⚙️ **灵活控制**: 支持跳过休息、延长休息时间

## 📁 项目结构

```
减少眼睛疲劳project/
├── main.py              # 主程序文件
├── reminder_window.py   # 提醒窗口模块
├── create_icon.py       # 图标生成器
├── start.py             # 启动脚本
├── requirements.txt     # 依赖文件
├── README.md           # 项目说明
└── icon*.png           # 生成的图标文件
```

## 🚀 快速开始

### 方法一：使用启动脚本（推荐）

1. 双击运行 `start.py`
2. 脚本会自动检查并安装依赖
3. 程序启动后在系统托盘显示眼睛图标

### 方法二：手动安装

1. **安装依赖**：

   ```bash
   pip install -r requirements.txt
   ```

2. **生成图标**：

   ```bash
   python create_icon.py
   ```

3. **启动程序**：
   ```bash
   python main.py
   ```

## 🎯 使用说明

### 托盘菜单功能

右键点击系统托盘中的眼睛图标，可以看到以下选项：

- **⏸ 暂停 / ▶ 继续**: 暂停或恢复 20 分钟工作计时
- **⏱ 立即休息**: 跳过当前工作时间，立即弹出休息窗口
- **❌ 退出**: 关闭程序并移除托盘图标

### 休息窗口功能

当 20 分钟工作时间到达时，会弹出休息提醒窗口：

- **倒计时显示**: 显示剩余休息时间（20 秒）
- **进度条**: 直观显示休息进度
- **跳过休息**: 提前结束休息，继续工作
- **延长 10 秒**: 延长休息时间 10 秒

## 🛠️ 技术栈

- **开发语言**: Python 3.x
- **GUI 框架**: tkinter (内置)
- **托盘图标**: pystray
- **图像处理**: Pillow (PIL)
- **多线程**: threading

## 📋 依赖要求

- Python 3.6+
- pystray >= 0.19.4
- Pillow >= 9.0.0

## ⚡ 工作原理

```
启动程序
    ↓
创建系统托盘图标
    ↓
开始 20 分钟工作计时
    ↓
时间到达 → 弹出休息窗口
    ↓
20 秒休息倒计时
    ↓
休息结束 → 重新开始工作计时
    ↓
循环执行...
```

## 🎨 界面预览

- **系统托盘**: 显示蓝色眼睛图标
- **休息窗口**: 居中显示，包含倒计时和进度条
- **托盘菜单**: 简洁的右键菜单

## 🔧 自定义设置

可以在 `main.py` 中修改以下参数：

```python
# 工作时间（默认 20 分钟）
self.work_duration = 20 * 60  # 秒

# 休息时间（默认 20 秒）
self.rest_duration = 20       # 秒
```

## 🚨 注意事项

1. **Windows 系统**: 程序主要为 Windows 系统设计
2. **管理员权限**: 某些系统可能需要管理员权限来创建托盘图标
3. **防火墙**: 首次运行时系统可能询问防火墙权限
4. **后台运行**: 程序会持续在后台运行，注意系统资源

## 🐛 故障排除

### 问题：托盘图标不显示

- 检查系统托盘设置，确保允许显示所有图标
- 尝试以管理员权限运行程序

### 问题：依赖包安装失败

- 确保网络连接正常
- 尝试使用国内镜像：`pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt`

### 问题：程序无法启动

- 检查 Python 版本（需要 3.6+）
- 确保所有依赖包已正确安装

## 📝 更新日志

### V2.0 (当前版本)

- ✅ 完整的托盘功能实现
- ✅ 美观的休息窗口界面
- ✅ 自动依赖检查和安装
- ✅ 支持暂停、继续、立即休息
- ✅ 休息时间延长功能
- ✅ 完善的错误处理

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

## 📄 许可证

本项目采用 MIT 许可证。

---

**健康提醒**: 长时间使用电脑请注意保护眼睛，定期休息，远眺绿色植物。😊
